webpackJsonp([25],{Iy0q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),s=a.n(n),r=a("ptRb"),o={data:function(){return{rawData:[],selectedType:"",efTypes:["消纳场","产生源","资源场"],SorI:0,selectedName:"",efNames:[],efCenter:{lng:114.067,lat:22.617},polygonPath:[],efData:[]}},watch:{selectedType:function(){var e=this;"产生源"===this.selectedType?(this.efNames=[],Object(r.A)(!1).then(function(t){for(var a=JSON.parse(s()(t.data.respBody)),n=0;n<a.length;++n){var r=a[n],o=r.sourceId,l=r.sourceName;e.efNames.push({id:o,name:l})}}),this.SorI=1):"消纳场"===this.selectedType?(this.efNames=[],Object(r.y)(!1).then(function(t){for(var a=JSON.parse(s()(t.data.respBody)),n=0;n<a.length;++n){var r=a[n],o=r.intakePlantId,l=r.intakePlantName;e.efNames.push({id:o,name:l})}}),this.SorI=0):"资源场"===this.selectedType&&(this.efNames=[],Object(r.z)(!1).then(function(t){for(var a=JSON.parse(s()(t.data.respBody)),n=0;n<a.length;++n){var r=a[n],o=r.resourcePlantId,l=r.resourcePlantName;e.efNames.push({id:o,name:l})}}),this.SorI=2)},selectedName:function(){var e=this,t=document.getElementById("fenceName"),a=t.selectedIndex,n=t.options[a].id;Object(r.B)(this.SorI,n).then(function(t){e.efData=JSON.parse(s()(t.data.respBody)),e.showef()})}},methods:{showef:function(){this.efCenter={lng:114.067,lat:22.617},this.polygonPath=[];for(var e=[],t=[],a=0;a<this.efData.length;a++)e.push(this.efData[a].lng),t.push(this.efData[a].lat);for(var n=0,s=0,r=0;r<e.length;r++)n+=parseFloat(e[r]),s+=parseFloat(t[r]);this.efCenter={lng:n/e.length,lat:s/e.length};for(var o=[],l=0;l<e.length;l++){var i={lng:e[l],lat:t[l]};o.push(i)}this.polygonPath=o}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"ef"}},[n("div",{attrs:{id:"selectBar"}},[n("span",[e._v("围栏类型：")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedType,expression:"selectedType"}],staticClass:"selectInput",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedType=t.target.multiple?a:a[0]}}},e._l(e.efTypes,function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v("\n        "+e._s(t)+"\n      ")])}),0),e._v(" "),n("span",[e._v("围栏名称：")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedName,expression:"selectedName"}],staticClass:"selectInput",attrs:{id:"fenceName"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedName=t.target.multiple?a:a[0]}}},e._l(e.efNames,function(t,a){return n("option",{key:a,attrs:{id:t.id},domProps:{value:t.name}},[e._v("\n        "+e._s(t.name)+"\n      ")])}),0),e._v(" "),n("img",{attrs:{src:a("PY/F"),alt:"arrow"}})]),e._v(" "),n("div",{attrs:{id:"bmap"}},[n("baidu-map",{staticClass:"bm-view",attrs:{"scroll-wheel-zoom":!0,zoom:16,center:e.efCenter}},[n("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),e._v(" "),n("bm-polygon",{attrs:{path:e.polygonPath,"stroke-color":"red","stroke-opacity":1,"stroke-weight":2,fillColor:"red",fillOpacity:.7}})],1)],1)])},staticRenderFns:[]};var i=a("C7Lr")(o,l,!1,function(e){a("cbuF")},"data-v-f6cc3fa2",null);t.default=i.exports},cbuF:function(e,t){}});
//# sourceMappingURL=25.985218b3704398a37085.js.map