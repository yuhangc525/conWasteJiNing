webpackJsonp([34],{D5bE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),o=a.n(n),s=a("ptRb"),r={data:function(){return{id:window.sessionStorage.efId,sourceData:[],sourceid:"",sourcename:"",efCenter:{lng:114.067,lat:22.617},polygonPath:[],efData:[]}},created:function(){},mounted:function(){this.getData()},methods:{getData:function(){var t=this;Object(s.X)(this.id).then(function(e){t.sourceData=JSON.parse(o()(e.data.respBody)),t.sourceid=t.sourceData[0].sourceId,t.sourcename=t.sourceData[0].sourceName,Object(s.O)(1,t.id).then(function(e){t.efData=JSON.parse(o()(e.data.respBody)),t.efCenter={lng:114.067,lat:22.617},t.polygonPath=[];for(var a=[],n=[],s=0;s<t.efData.length;s++)a.push(t.efData[s].lng),n.push(t.efData[s].lat);for(var r=0,l=0,i=0;i<a.length;i++)r+=parseFloat(a[i]),l+=parseFloat(n[i]);t.efCenter={lng:r/a.length,lat:l/a.length};for(var c=[],u=0;u<a.length;u++){var d={lng:a[u],lat:n[u]};c.push(d)}t.polygonPath=c})})},getClickInfo:function(t){},updatePolygonPath:function(t){this.polygonPath=t.target.getPath()},addPolygonPoint:function(){this.polygonPath.push({lng:114.067,lat:22.617})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("div",{attrs:{id:"title"}},[n("span",{staticClass:"span11"},[t._v("产生源编号："+t._s(t.sourceid))]),t._v(" "),n("span",{staticClass:"span21"},[t._v("工程名称："+t._s(t.sourcename))]),t._v(" "),n("img",{attrs:{src:a("PY/F"),alt:"箭头"}})]),t._v(" "),n("div",{staticClass:"bm-div"},[n("baidu-map",{staticClass:"bm-view",attrs:{"scroll-wheel-zoom":!0,zoom:16,center:t.efCenter},on:{click:t.getClickInfo}},[n("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t._v(" "),n("bm-polygon",{attrs:{path:t.polygonPath,"stroke-color":"red","stroke-opacity":1,"stroke-weight":2,fillColor:"red",fillOpacity:.7,editing:!0},on:{lineupdate:t.updatePolygonPath}})],1)],1)])},staticRenderFns:[]};var i=a("VU/8")(r,l,!1,function(t){a("l3L7")},"data-v-2f673b1e",null);e.default=i.exports},l3L7:function(t,e){}});
//# sourceMappingURL=34.b3066b3edec9186814ae.js.map