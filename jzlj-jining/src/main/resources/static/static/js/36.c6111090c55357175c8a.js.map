{"version":3,"sources":["webpack:///src/components/vehicleMonitor/ef.vue","webpack:///./src/components/vehicleMonitor/ef.vue?eeb5","webpack:///./src/components/vehicleMonitor/ef.vue"],"names":["ef","data","rawData","selectedType","efTypes","SorI","selectedName","efNames","efCenter","lng","lat","polygonPath","efData","watch","_this","this","Object","axios","then","res","JSON","parse","stringify_default","respBody","i","length","_rawData$i","id","sourceId","name","sourceName","push","_rawData$i2","intakePlantId","intakePlantName","_rawData$i3","resourcePlantId","resourcePlantName","_this2","tempDom","document","getElementById","index","selectedIndex","tempId","options","showef","methods","lngList","latList","clng","clat","_i","parseFloat","path","_i2","one","vehicleMonitor_ef","render","_vm","_h","$createElement","_c","_self","attrs","_v","directives","rawName","value","expression","staticClass","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","o","selected","map","_value","multiple","_l","item","key","domProps","_s","src","__webpack_require__","alt","scroll-wheel-zoom","zoom","center","map-types","anchor","stroke-color","stroke-opacity","stroke-weight","fillColor","fillOpacity","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/36.c6111090c55357175c8a.js","sourcesContent":["<template>\r\n  <div id=\"ef\">\r\n    <div id=\"selectBar\">\r\n      <span>围栏类型：</span>\r\n      <select v-model=\"selectedType\" class=\"selectInput\">\r\n        <option :value=\"item\" v-for=\"(item, index) in efTypes\" :key=\"index\">\r\n          {{ item }}\r\n        </option>\r\n      </select>\r\n      <span>围栏名称：</span>\r\n      <select v-model=\"selectedName\" id=\"fenceName\" class=\"selectInput\">\r\n        <option :value=\"item.name\" v-for=\"(item, index) in efNames\" :key=\"index\" :id=\"item.id\">\r\n          {{ item.name }}\r\n        </option>\r\n      </select>\r\n      <img src='../../../static/img/icon26.png' alt=\"arrow\">\r\n    </div>\r\n    <div id=\"bmap\">\r\n      <baidu-map class=\"bm-view\"  :scroll-wheel-zoom=\"true\" :zoom=\"16\" :center=\"efCenter\">\r\n        <bm-map-type :map-types=\"['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP']\" anchor=\"BMAP_ANCHOR_TOP_RIGHT\"></bm-map-type>\r\n        <bm-polygon :path=\"polygonPath\" stroke-color=\"red\" :stroke-opacity=\"1\" :stroke-weight=\"2\" fillColor=\"red\" :fillOpacity=\"0.7\"  />\r\n      </baidu-map>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入接口信息\r\nimport {\r\n  selectAllSourceDataNew,\r\n  selectAllIntakeDataNew,\r\n  selectAllResourceDataNew,\r\n  // eslint-disable-next-line no-unused-vars\r\n  selectByIdAndSOrI\r\n} from '../../assets/axios/index'\r\nexport default {\r\n  data () {\r\n    return {\r\n      rawData: [],\r\n      // 围栏类型\r\n      selectedType: '',\r\n      efTypes: ['消纳场', '产生源', '资源场'],\r\n      SorI: 0,\r\n      // 围栏名称\r\n      selectedName: '',\r\n      efNames: [],\r\n      // 百度地图所需要的围栏属性\r\n      // 中心点坐标\r\n      efCenter: { lng: 114.067, lat: 22.617 },\r\n      // 坐标集\r\n      polygonPath: [],\r\n      // 请求到的经纬度数据\r\n      efData: []\r\n    }\r\n  },\r\n  watch: {\r\n    selectedType: function () {\r\n      // 监测围栏类型变化，获取相应类型围栏数据\r\n      if (this.selectedType === '产生源') {\r\n        this.efNames = []\r\n        selectAllSourceDataNew(false).then((res) => {\r\n          let rawData = JSON.parse(JSON.stringify(res.data.respBody))\r\n          for (let i = 0; i < rawData.length; ++i) {\r\n            let { sourceId: id, sourceName: name } = rawData[i]\r\n            this.efNames.push({ id: id, name: name })\r\n          }\r\n        })\r\n        this.SorI = 1\r\n      } else if (this.selectedType === '消纳场') {\r\n        this.efNames = []\r\n        selectAllIntakeDataNew(false).then((res) => {\r\n          let rawData = JSON.parse(JSON.stringify(res.data.respBody))\r\n          for (let i = 0; i < rawData.length; ++i) {\r\n            let { intakePlantId: id, intakePlantName: name } = rawData[i]\r\n            this.efNames.push({ id: id, name: name })\r\n          }\r\n        })\r\n        this.SorI = 0\r\n      } else if (this.selectedType === '资源场') {\r\n        this.efNames = []\r\n        selectAllResourceDataNew(false).then((res) => {\r\n          let rawData = JSON.parse(JSON.stringify(res.data.respBody))\r\n          for (let i = 0; i < rawData.length; ++i) {\r\n            let { resourcePlantId: id, resourcePlantName: name } = rawData[i]\r\n            this.efNames.push({ id: id, name: name })\r\n          }\r\n        })\r\n        this.SorI = 2\r\n      }\r\n    },\r\n    selectedName: function () {\r\n      // 监测围栏名字变化，渲染地图控件\r\n      let tempDom = document.getElementById('fenceName')\r\n      let index = tempDom.selectedIndex\r\n      let tempId = tempDom.options[index].id\r\n      selectByIdAndSOrI(this.SorI, tempId).then((res) => {\r\n        this.efData = JSON.parse(JSON.stringify(res.data.respBody))\r\n        this.showef()\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    showef () {\r\n      this.efCenter = { lng: 114.067, lat: 22.617 }\r\n      this.polygonPath = []\r\n      // 获取经纬度\r\n      let lngList = []\r\n      let latList = []\r\n      for (let i = 0; i < this.efData.length; i++) {\r\n        lngList.push(this.efData[i].lng)\r\n        latList.push(this.efData[i].lat)\r\n      }\r\n      // 求显示中心\r\n      let clng = 0\r\n      let clat = 0\r\n      for (let i = 0; i < lngList.length; i++) {\r\n        clng += parseFloat(lngList[i])\r\n        clat += parseFloat(latList[i])\r\n      }\r\n      // console.log(clng);\r\n      this.efCenter = {\r\n        lng: clng / lngList.length,\r\n        lat: clat / lngList.length\r\n      }\r\n      // console.log(this.efCenter);\r\n      let path = []\r\n      for (let i = 0; i < lngList.length; i++) {\r\n        let one = {\r\n          lng: lngList[i],\r\n          lat: latList[i]\r\n        }\r\n        path.push(one)\r\n      }\r\n      this.polygonPath = path\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#ef {\r\n  height: 85vh;\r\n  width: 82.76vw;\r\n  border: 0.1vh solid #3dcaf5;\r\n  #selectBar {\r\n    height: 4.259vh;\r\n    width: 82.76vw;\r\n    margin: 0.0926vh auto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: left;\r\n    align-items: center;\r\n    background: url(\"../../../static/img/icon27.png\");\r\n    background-size: 82.76vw 4.259vh;\r\n    span {\r\n      font-size: 1.667vh;\r\n      color: rgb(255, 255, 255);\r\n      margin: auto 1vw;\r\n    }\r\n    img {\r\n      margin: 0vh 1vw;\r\n    }\r\n    .selectInput {\r\n      margin-left: 0.147vw;\r\n      width: 9.271vw;\r\n      height: 2.963vh;\r\n      // background-color: transparent;\r\n      // color: #ffffff;\r\n      font-size: 1.111vh;\r\n      outline: none;\r\n      border: solid #ffffff 0.052vw;\r\n      font-family: MicrosoftYaHei;\r\n      padding-left: 0.625vw;\r\n      // opacity: 0.6;\r\n      border-radius: 0.278vh;\r\n    }\r\n  }\r\n  #bmap {\r\n    height: 80.741vh;\r\n    width: 82.76vw;\r\n    margin: 0.0926vh auto;\r\n    .bm-view {\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/vehicleMonitor/ef.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ef\"}},[_c('div',{attrs:{\"id\":\"selectBar\"}},[_c('span',[_vm._v(\"围栏类型：\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedType),expression:\"selectedType\"}],staticClass:\"selectInput\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.efTypes),function(item,index){return _c('option',{key:index,domProps:{\"value\":item}},[_vm._v(\"\\n        \"+_vm._s(item)+\"\\n      \")])}),0),_vm._v(\" \"),_c('span',[_vm._v(\"围栏名称：\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedName),expression:\"selectedName\"}],staticClass:\"selectInput\",attrs:{\"id\":\"fenceName\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedName=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.efNames),function(item,index){return _c('option',{key:index,attrs:{\"id\":item.id},domProps:{\"value\":item.name}},[_vm._v(\"\\n        \"+_vm._s(item.name)+\"\\n      \")])}),0),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../../../static/img/icon26.png\"),\"alt\":\"arrow\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"bmap\"}},[_c('baidu-map',{staticClass:\"bm-view\",attrs:{\"scroll-wheel-zoom\":true,\"zoom\":16,\"center\":_vm.efCenter}},[_c('bm-map-type',{attrs:{\"map-types\":['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP'],\"anchor\":\"BMAP_ANCHOR_TOP_RIGHT\"}}),_vm._v(\" \"),_c('bm-polygon',{attrs:{\"path\":_vm.polygonPath,\"stroke-color\":\"red\",\"stroke-opacity\":1,\"stroke-weight\":2,\"fillColor\":\"red\",\"fillOpacity\":0.7}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e7eb2c1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/vehicleMonitor/ef.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e7eb2c1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ef.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ef.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ef.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e7eb2c1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ef.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e7eb2c1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vehicleMonitor/ef.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}