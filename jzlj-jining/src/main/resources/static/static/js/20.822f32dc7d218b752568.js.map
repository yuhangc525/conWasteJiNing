{"version":3,"sources":["webpack:///src/components/vehicleMonitor/HistoricalTrack.vue","webpack:///./src/components/vehicleMonitor/HistoricalTrack.vue?c911","webpack:///./src/components/vehicleMonitor/HistoricalTrack.vue"],"names":["HistoricalTrack","data","BMap","map","toA","toB","startDate","Date","endDate","companies","selectedCompany","cars","selectedCar","playbackRate","zoom","center","lng","lat","currentRow","trail","polylinePath","showingCar","markerPoint","rotation","index","timer","loading","companiesAndCars","created","_this2","this","Object","axios","then","res","rawData","JSON","parse","stringify_default","respBody","i","length","carCompanyName","_rawData$i","id","carCompanyID","name","push","res2","rawData2","companyId","companyName","myDate","year","getFullYear","month","getMonth","date","getDate","hour","getHours","min","getMinutes","sec","getSeconds","toString","padStart","beforeRouteLeave","to","from","next","clearInterval","watch","methods","setCurrent","row","$refs","canvasTable","setCurrentRow","handleCurrentChange","val","map_handler","toggleA","domTemp1","document","getElementById","domTemp2","domTemp3","style","backgroundImage","width","toggleB","bottom","changeCompany","value","item","_i","_item$_i","carId","carNo","changeSpeed","window","run","historialButoon","_this3","alert","resetAll","$moment","format","carno","sumLng","sumLat","_i2","_rawData$_i","rawLng","lon","rawLat","_wgs2bd","wgs2bd","getRotation","positionA","positionB","y","x","tanV","angle","Math","atan","PI","speed","_this","bodyWrapper","setInterval","e","children","rows","scrollTop","offsetTop","transformLat","ret","sqrt","abs","sin","transformLon","delta","a","ee","dLat","dLon","radLat","magic","sqrtMagic","cos","wgs2gcj","wgsLat","wgsLon","d","gcj2bd","gcjLat","gcjLon","xPI","z","theta","atan2","bdLon","wgsLng","result","_wgs2gcj","vehicleMonitor_HistoricalTrack","render","_vm","_h","$createElement","_c","_self","attrs","directives","rawName","expression","element-loading-text","element-loading-spinner","element-loading-background","staticClass","scroll-wheel-zoom","on","ready","map-types","anchor","_v","path","stroke-color","stroke-opacity","stroke-weight","editing","position","title","dragging","icon","url","size","height","click","ref","staticStyle","border","highlight-current-row","current-change","type","align","prop","label","scopedSlots","_u","key","fn","scope","_s","_f","uptime","_m","default-value","placeholder","model","callback","$$v","filterable","change","_l","round","staticRenderFns","color","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.822f32dc7d218b752568.js","sourcesContent":["<template>\r\n  <div id=\"historicalTrack\">\r\n    <!-- 百度地图 -->\r\n    <div id=\"map\"\r\n      v-loading=\"loading\"\r\n      element-loading-text=\"拼命加载中\"\r\n      element-loading-spinner=\"el-icon-loading\"\r\n      element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n    >\r\n      <baidu-map class=\"bm-view\" :scroll-wheel-zoom=\"true\" :zoom=\"zoom\" @ready=\"map_handler\" :center=\"center\">\r\n        <bm-map-type :map-types=\"['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP']\" anchor=\"BMAP_ANCHOR_TOP_RIGHT\"></bm-map-type>\r\n        <bm-scale anchor=\"BMAP_ANCHOR_TOP_LEFT\"></bm-scale>\r\n        <bm-city-list anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\"></bm-city-list>\r\n        <bm-navigation anchor=\"BMAP_ANCHOR_TOP_LEFT\"></bm-navigation>\r\n        <!-- 地图轨迹折线 -->\r\n        <bm-polyline :path=\"polylinePath\" stroke-color=\"red\" :stroke-opacity=\"0.8\" :stroke-weight=\"5\" :editing=\"false\"></bm-polyline>\r\n        <!-- 车辆 -->\r\n        <bm-marker :position=\"markerPoint\" :rotation=\"rotation\" :title=\"showingCar\" :dragging=\"false\" :icon=\"{url: '../../../static/img/bus_purple_s.png', size: {width: 43, height: 20}, anchor:{width: 21.5, height: 10} }\"></bm-marker>\r\n      </baidu-map>\r\n      <div id=\"toggleA\" @click=\"toggleA\"></div>\r\n      <div id=\"toggleB\" @click=\"toggleB\"></div>\r\n      <!-- 详细数据表格 -->\r\n      <div id=\"historyTable\">\r\n        <el-table :data=\"trail\" height=\"250\" border style=\"width: 100%\" highlight-current-row @current-change=\"handleCurrentChange\" ref=\"canvasTable\">\r\n          <el-table-column type=\"index\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"terminalId\" label=\"轨迹编号\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"carno\" label=\"车牌号\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"speed\" label=\"速度\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"lon\" label=\"经度\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"lat\" label=\"纬度\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"uptime\" label=\"采集时间\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.uptime | dateFormat }}\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n    <!-- 右侧控制栏 -->\r\n    <div id=\"controlBar\">\r\n      <p>历史轨迹</p>\r\n      <div id=\"selectTime\">\r\n        <div class=\"subTitle\"><i class=\"el-icon-caret-right\" style=\"color: white\"></i> 时间选择</div>\r\n        <el-date-picker v-model=\"startDate\" type=\"datetime\" default-value=\"\" placeholder=\"选择开始时间\" size=\"small\">\r\n        </el-date-picker>\r\n        <el-date-picker v-model=\"endDate\" type=\"datetime\" placeholder=\"选择结束时间\" size=\"small\">\r\n        </el-date-picker>\r\n      </div>\r\n      <div id=\"selectCompany\">\r\n        <div class=\"subTitle\"><i class=\"el-icon-caret-right\" style=\"color: white\"></i> 公司选择</div>\r\n        <el-select v-model=\"selectedCompany\" @change=\"changeCompany\" placeholder=\"请选择公司\" filterable size=\"small\">\r\n          <el-option v-for=\"item in companies\" :key=\"item.id\" :label=\"item.name\" :value=\"item.name\">\r\n          </el-option>\r\n        </el-select>\r\n      </div>\r\n      <div id=\"selectCar\">\r\n        <div class=\"subTitle\"><i class=\"el-icon-caret-right\" style=\"color: white\"></i> 车辆选择</div>\r\n        <el-select v-model=\"selectedCar\" placeholder=\"请选择车辆\" filterable size=\"small\">\r\n          <el-option v-for=\"item in cars\" :key=\"item.id\" :label=\"item.name\" :value=\"item.name\">\r\n          </el-option>\r\n        </el-select>\r\n        <el-button id=\"hitoricalButton\" type=\"primary\" size=\"small\" @click=\"historialButoon\" round>查询历史轨迹</el-button>\r\n      </div>\r\n      <div id=\"selectSpeed\">\r\n        <div class=\"subTitle\"><i class=\"el-icon-caret-right\" style=\"color: white\"></i> 播放速度</div>\r\n        <el-radio-group v-model=\"playbackRate\" @change=\"changeSpeed\">\r\n          <el-radio :label=\"1\">1x</el-radio>\r\n          <el-radio :label=\"2\">2x</el-radio>\r\n          <el-radio :label=\"3\">3x</el-radio>\r\n          <el-radio :label=\"4\">4x</el-radio>\r\n        </el-radio-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  selectAllCompanyData,\r\n  selectCarNoByCompany,\r\n  // eslint-disable-next-line no-unused-vars\r\n  // selectHTData,\r\n  selectHTDataNew,\r\n  selectHTData2\r\n} from '../../assets/axios/index'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 百度地图实例\r\n      BMap: null,\r\n      map: null,\r\n      // 控制横向和竖向按钮展开状态的值\r\n      toA: true,\r\n      toB: true,\r\n      // 日期选择框绑定数据\r\n      startDate: new Date('2019-12-09 00:00:00'),\r\n      endDate: new Date('2019-12-09 03:50:00'),\r\n      // 车辆公司数据\r\n      companies: [],\r\n      // 被选择的公司\r\n      selectedCompany: '',\r\n      // 车辆数据\r\n      cars: [],\r\n      // 被选择的车辆\r\n      selectedCar: '',\r\n      // 播放速度\r\n      playbackRate: 1,\r\n      // 地图控件属性\r\n      zoom: 15,\r\n      center: { lng: 116.404, lat: 39.915 },\r\n      currentRow: null,\r\n      // 轨迹数据\r\n      trail: [],\r\n      // 轨迹折线数据\r\n      polylinePath: [],\r\n      // 车辆的位置\r\n      showingCar: '',\r\n      markerPoint: {},\r\n      rotation: 0,\r\n      index: 0,\r\n      timer: null,\r\n      // Loading 遮罩层\r\n      loading: false,\r\n\r\n      companiesAndCars:[]\r\n    }\r\n  },\r\n  created () {\r\n    // 请求车辆公司数据\r\n    selectAllCompanyData(false).then((res) => {\r\n      let rawData = JSON.parse(JSON.stringify(res.data.respBody))\r\n      for (let i = 0; i < rawData.length; ++i) {\r\n        if(rawData[i].carCompanyName){\r\n          let { carCompanyID: id, carCompanyName: name } = rawData[i]\r\n          this.companies.push({ id: id, name: name })\r\n\r\n          selectCarNoByCompany(name, false).then((res2) => {\r\n            let rawData2 = JSON.parse(JSON.stringify(res2.data.respBody))\r\n            this.companiesAndCars.push({ companyId: id, companyName: name, cars: rawData2 })\r\n          })\r\n        }\r\n        \r\n      }\r\n    })\r\n    var myDate = new Date();\r\n    var year=myDate.getFullYear(); //获取完整的年份(4位,1970-????)\r\n    var month=myDate.getMonth()+1; //获取当前月份(0-11,0代表1月)\r\n    var date=myDate.getDate()-5;\r\n    var hour=myDate.getHours(); //获取当前小时数(0-23)\r\n    var min=myDate.getMinutes(); //获取当前分钟数(0-59)\r\n    var sec=myDate.getSeconds();\r\n    var res=year+'-'+month.toString().padStart(2,'0')+'-'+date.toString().padStart(2,'0')+' '+hour.toString().padStart(2,'0')+':'+min.toString().padStart(2,'0')+':'+sec.toString().padStart(2,'0')\r\n    var res2=year+'-'+month.toString().padStart(2,'0')+'-'+(date+1).toString().padStart(2,'0')+' '+hour.toString().padStart(2,'0')+':'+min.toString().padStart(2,'0')+':'+sec.toString().padStart(2,'0')\r\n    this.startDate=new Date(res)\r\n    this.endDate=new Date(res2)\r\n    // console.log('kkkkk',year+' '+ month.padStart(2,'0') +' '+date+' '+hour+' '+min+' '+sec)\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    clearInterval(this.timer)\r\n    next()\r\n  },\r\n  watch: {\r\n  },\r\n  methods: {\r\n    // 选择表格栏实现当前数据高亮操作\r\n    setCurrent (row) {\r\n      this.$refs.canvasTable.setCurrentRow(row)\r\n    },\r\n    handleCurrentChange (val) {\r\n      this.currentRow = val\r\n    },\r\n    // 百度地图准备后返回BMap，map类\r\n    map_handler (BMap, map) {\r\n      this.BMap = BMap\r\n      this.map = map\r\n    },\r\n    // 横向按钮展开折叠\r\n    toggleA () {\r\n      let domTemp1 = document.getElementById('map')\r\n      let domTemp2 = document.getElementById('controlBar')\r\n      let domTemp3 = document.getElementById('toggleA')\r\n      if (this.toA) {\r\n        domTemp3.style.backgroundImage = 'url(\"../../../static/img/侧栏1.png\")'\r\n        domTemp2.style.width = 'ovw'\r\n        domTemp1.style.width = '82.76vw'\r\n        this.toA = false\r\n      } else {\r\n        domTemp3.style.backgroundImage = 'url(\"../../../static/img/侧栏2.png\")'\r\n        domTemp2.style.width = '15vw'\r\n        domTemp1.style.width = '66.021vw'\r\n        this.toA = true\r\n      }\r\n    },\r\n    // 竖向按钮展开折叠按钮\r\n    toggleB () {\r\n      let domTemp1 = document.getElementById('toggleB')\r\n      let domTemp2 = document.getElementById('historyTable')\r\n      if (this.toB) {\r\n        domTemp1.style.backgroundImage = 'url(\"../../../static/img/侧栏3.png\")'\r\n        domTemp1.style.bottom = '30%'\r\n        domTemp2.style.bottom = '0%'\r\n        this.toB = false\r\n      } else {\r\n        domTemp1.style.backgroundImage = 'url(\"../../../static/img/侧栏4.png\")'\r\n        domTemp1.style.bottom = '0%'\r\n        domTemp2.style.bottom = '-30%'\r\n        this.toB = true\r\n      }\r\n    },\r\n    // 选择的公司发生改变回调函数\r\n    changeCompany (value) {\r\n      if (value !== '') {\r\n        this.selectedCar = ''\r\n        this.cars = []\r\n        \r\n        // selectCarNoByCompany(value, false).then((res) => {\r\n        //   let rawData = JSON.parse(JSON.stringify(res.data.respBody))\r\n        //   for (let i = 0; i < rawData.length; ++i) {\r\n        //     let { carId: id, carNo: name } = rawData[i]\r\n        //     this.cars.push({ id: id, name: name })\r\n        //   }\r\n        // })\r\n        for(let i = 0; i < this.companiesAndCars.length; ++i){\r\n          if(this.companiesAndCars[i].companyName==value){\r\n            let item=this.companiesAndCars[i].cars\r\n            for (let i = 0; i < item.length; ++i) {\r\n              let { carId: id, carNo: name } = item[i]\r\n              this.cars.push({ id: id, name: name })\r\n            }\r\n          }\r\n\r\n        }\r\n      }\r\n    },\r\n    // 播放速度发生改变的回调函数\r\n    changeSpeed (value) {\r\n      window.clearInterval(this.timer)\r\n      this.run(value)\r\n    },\r\n    // 点击查询历史数据按钮绑定函数\r\n    historialButoon () {\r\n      let day=this.endDate.getDate()-this.startDate.getDate()\r\n      if(day>7){\r\n        alert('请选择7天以内的时间段！')\r\n\r\n      }else{\r\n      // console.log('kkkkk',())\r\n      this.loading=true\r\n      // 判断是否值已就位\r\n      if (!this.selectedCar || !this.startDate || !this.endDate) {\r\n        alert('请完善查询信息！')\r\n        return\r\n      }\r\n      // console.log('teminalid',this.selectedCar)\r\n      \r\n      // 清除当前的轨迹渲染定时器和数据等\r\n      this.resetAll()\r\n      // 请求数据 -> 坐标转换 -> 渲染轨迹\r\n      let startDate = this.$moment(this.startDate).format('YYYY-MM-DD HH:mm:ss')\r\n      let endDate = this.$moment(this.endDate).format('YYYY-MM-DD HH:mm:ss')\r\n      // selectHTDataNew(this.selectedCar, false, startDate, endDate).then((res) => {\r\n        selectHTData2(this.selectedCar, false, startDate, endDate).then((res) => {\r\n        this.showingCar = this.selectedCar\r\n        let rawData = JSON.parse(JSON.stringify(res.data.respBody))\r\n        if(!rawData){\r\n          alert('该时段无数据！')\r\n          this.loading=false\r\n        }else{\r\n\r\n        \r\n        this.trail = rawData\r\n        for(let i=0;i<this.trail.length;i++){\r\n          this.trail[i].carno=this.selectedCar\r\n        }\r\n        // 轨迹折线\r\n        let sumLng = 0\r\n        let sumLat = 0\r\n       \r\n        for (let i = 0; i < rawData.length; ++i) {\r\n          // 坐标转换\r\n          let { lon: rawLng, lat: rawLat } = rawData[i]\r\n          let { lat, lng } = this.wgs2bd(rawLat, rawLng)\r\n          sumLng += lng\r\n          sumLat += lat\r\n          this.polylinePath.push({ lng: lng, lat: lat })\r\n        }\r\n        sumLng /= rawData.length\r\n        sumLat /= rawData.length\r\n        this.center = { lng: sumLng, lat: sumLat }\r\n        this.zoom = 12\r\n\r\n        // 根据轨迹数据 渲染车辆移动\r\n        this.run(this.playbackRate)\r\n        this.loading=false\r\n        }\r\n      })\r\n      }\r\n    },\r\n    // 清空轨迹和车辆渲染数据\r\n    resetAll: function () {\r\n      window.clearInterval(this.timer)\r\n      this.showingCar = ''\r\n      this.markerPoint = {}\r\n      this.polylinePath = []\r\n      this.index = 0\r\n    },\r\n    // 计算车头旋转角度\r\n    getRotation: function (positionA, positionB) {\r\n      var y = positionB.lng - positionA.lng\r\n      var x = positionB.lat - positionA.lat\r\n      var tanV = y / x\r\n      var angle = Math.atan(tanV)\r\n      angle = (angle / Math.PI * 180)\r\n      if (x >= 0) {\r\n        angle = angle - 90\r\n      } else {\r\n        angle = angle - 270\r\n      }\r\n      return angle\r\n    },\r\n    // 循环定时器-车辆\r\n    run (speed) {\r\n      var _this = this\r\n      let bodyWrapper = _this.$refs.canvasTable.bodyWrapper\r\n      this.timer = setInterval(function () {\r\n        try {\r\n          // console.log(_this.index)\r\n          _this.$refs.canvasTable.setCurrentRow(_this.trail[_this.index])\r\n          let e = _this.index - 1\r\n          if (bodyWrapper.children[0].rows[e]) {\r\n            bodyWrapper.scrollTop = bodyWrapper.children[0].rows[e].offsetTop\r\n          }\r\n          _this.markerPoint = _this.polylinePath[_this.index]\r\n          if (_this.index === 0) {\r\n            _this.rotation = 0\r\n          } else {\r\n            _this.rotation = _this.getRotation(_this.polylinePath[_this.index - 1], _this.polylinePath[_this.index])\r\n          }\r\n          if (_this.index === _this.polylinePath.length - 1) {\r\n            window.clearInterval(_this.timer)\r\n          }\r\n          _this.index++\r\n        } catch (e) {\r\n          // console.log(e.message)\r\n          _this.resetAll()\r\n          alert('该时段无数据！')\r\n        }\r\n      }, 1000 / speed)\r\n    },\r\n    // ***************  坐标转换的系列函数(wsg -> gcj -> bd)  ******************\r\n    transformLat: function (x, y) {\r\n      const PI = 3.14159265358979324\r\n      var ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x))\r\n      ret += (20.0 * Math.sin(6.0 * x * PI) + 20.0 * Math.sin(2.0 * x * PI)) * 2.0 / 3.0\r\n      ret += (20.0 * Math.sin(y * PI) + 40.0 * Math.sin(y / 3.0 * PI)) * 2.0 / 3.0\r\n      ret += (160.0 * Math.sin(y / 12.0 * PI) + 320 * Math.sin(y * PI / 30.0)) * 2.0 / 3.0\r\n      return ret\r\n    },\r\n    transformLon: function (x, y) {\r\n      const PI = 3.14159265358979324\r\n      var ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x))\r\n      ret += (20.0 * Math.sin(6.0 * x * PI) + 20.0 * Math.sin(2.0 * x * PI)) * 2.0 / 3.0\r\n      ret += (20.0 * Math.sin(x * PI) + 40.0 * Math.sin(x / 3.0 * PI)) * 2.0 / 3.0\r\n      ret += (150.0 * Math.sin(x / 12.0 * PI) + 300.0 * Math.sin(x / 30.0 * PI)) * 2.0 / 3.0\r\n      return ret\r\n    },\r\n    delta: function (lat, lon) {\r\n      // Krasovsky 1940\r\n      //\r\n      // a = 6378245.0, 1/f = 298.3\r\n      // b = a * (1 - f)\r\n      // ee = (a^2 - b^2) / a^2;\r\n      const PI = 3.14159265358979324\r\n      var a = 6378245.0 //  a: 卫星椭球坐标投影到平面地图坐标系的投影因子。\r\n      var ee = 0.00669342162296594323 //  ee: 椭球的偏心率。\r\n      var dLat = this.transformLat(lon - 105.0, lat - 35.0)\r\n      var dLon = this.transformLon(lon - 105.0, lat - 35.0)\r\n      var radLat = lat / 180.0 * PI\r\n      var magic = Math.sin(radLat)\r\n      magic = 1 - ee * magic * magic\r\n      var sqrtMagic = Math.sqrt(magic)\r\n      dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * PI)\r\n      dLon = (dLon * 180.0) / (a / sqrtMagic * Math.cos(radLat) * PI)\r\n      return { lat: dLat, lng: dLon }\r\n    },\r\n    // WGS-84 to GCJ-02\r\n    wgs2gcj: function (wgsLat, wgsLon) {\r\n      var d = this.delta(wgsLat, wgsLon)\r\n      return { lat: wgsLat + d.lat, lng: wgsLon + d.lng }\r\n    },\r\n    // GCJ-02 to BD-09\r\n    gcj2bd: function (gcjLat, gcjLon) {\r\n      const xPI = 3.14159265358979324 * 3000.0 / 180.0\r\n      var x = gcjLon\r\n      var y = gcjLat\r\n      var z = Math.sqrt(x * x + y * y) + 0.00002 * Math.sin(y * xPI)\r\n      var theta = Math.atan2(y, x) + 0.000003 * Math.cos(x * xPI)\r\n      var bdLon = z * Math.cos(theta) + 0.0065\r\n      var bdLat = z * Math.sin(theta) + 0.006\r\n      return { lat: bdLat, lng: bdLon }\r\n    },\r\n    wgs2bd: function (wgsLat, wgsLng) {\r\n      let result = this.gcj2bd(wgsLat, wgsLng)\r\n      let { lat, lng } = this.wgs2gcj(result.lat, result.lng)\r\n      return { lat: lat, lng: lng }\r\n    }\r\n    // *************** END  坐标转换的系列函数(wsg -> gcj -> bd) END ******************\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#historicalTrack {\r\n  height: 85vh;\r\n  width: 82.76vw;\r\n  overflow: hidden;\r\n  #map {\r\n    position: relative;\r\n    height: 85vh;\r\n    width: 66.021vw;\r\n    float: left;\r\n    border: 0.1vh solid #3dcaf5;\r\n    transition: 0.5s;\r\n    .bm-view {\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    #toggleA {\r\n      position: absolute;\r\n      top: 40%;\r\n      right: 0px;\r\n      height: 13.889vh;\r\n      width: 1.302vw;\r\n      background: url(\"../../../static/img/侧栏2.png\");\r\n      background-position: center;\r\n      background-size: 1.302vw 13.889vh;\r\n      z-index: 3;\r\n      cursor: pointer;\r\n    }\r\n    #toggleB {\r\n      position: absolute;\r\n      bottom: 2px;\r\n      right: 50%;\r\n      width: 7.8125vw;\r\n      height: 2.315vh;\r\n      background: url(\"../../../static/img/侧栏3.png\");\r\n      background-position: center;\r\n      background-size: 7.8125vw 2.315vh;\r\n      z-index: 3;\r\n      cursor: pointer;\r\n      transition: 0.5s;\r\n    }\r\n    #historyTable {\r\n      position: absolute;\r\n      bottom: -30%;\r\n      height: 30%;\r\n      width: 100%;\r\n      z-index: 2;\r\n      transition: 0.5s;\r\n      border: 0.1vh solid #3dcaf5;\r\n    }\r\n  }\r\n  #controlBar {\r\n    position: relative;\r\n    height: 85vh;\r\n    width: 15vw;\r\n    float: right;\r\n    background-image: url(\"../../../static/img/icon32-1.png\");\r\n    background-position: center;\r\n    background-size: 15vw 85vh;\r\n    transition: 0.5s;\r\n    p {\r\n      height: 4.5vh;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      color: #ffffff;\r\n      margin: 4vh 0vw 0vh 0vw;\r\n    }\r\n    .subTitle {\r\n      color: white;\r\n      margin: 4vh 0vw 1vh 0vw;\r\n      position: relative;\r\n      left: -3vw;\r\n    }\r\n    [id^=\"select\"] {\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style>\r\n.el-date-editor.el-input,\r\n.el-date-editor.el-input__inner,\r\n.el-select {\r\n  width: 12vw;\r\n}\r\n#hitoricalButton.el-button {\r\n  margin: 2vh 0vw 0vh 0vw;\r\n  width: 12vw;\r\n  font-size: 2vh;\r\n}\r\n#selectSpeed  .el-radio {\r\n  margin: 2vh 0.5vw 0vh 0vw;\r\n  color: white;\r\n}\r\n.el-table__body tr.current-row > td {\r\n  background-color: #144fad !important;\r\n  color: #fff;\r\n}\r\n#historyTable.el-table__body-wrapper {\r\n  height: 18.8vh !important;\r\n}\r\n#historyTable > div > div.el-table__body-wrapper.is-scrolling-none {\r\n  height: 18.8vh !important;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/vehicleMonitor/HistoricalTrack.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"historicalTrack\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"map\",\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('baidu-map',{staticClass:\"bm-view\",attrs:{\"scroll-wheel-zoom\":true,\"zoom\":_vm.zoom,\"center\":_vm.center},on:{\"ready\":_vm.map_handler}},[_c('bm-map-type',{attrs:{\"map-types\":['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP'],\"anchor\":\"BMAP_ANCHOR_TOP_RIGHT\"}}),_vm._v(\" \"),_c('bm-scale',{attrs:{\"anchor\":\"BMAP_ANCHOR_TOP_LEFT\"}}),_vm._v(\" \"),_c('bm-city-list',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_RIGHT\"}}),_vm._v(\" \"),_c('bm-navigation',{attrs:{\"anchor\":\"BMAP_ANCHOR_TOP_LEFT\"}}),_vm._v(\" \"),_c('bm-polyline',{attrs:{\"path\":_vm.polylinePath,\"stroke-color\":\"red\",\"stroke-opacity\":0.8,\"stroke-weight\":5,\"editing\":false}}),_vm._v(\" \"),_c('bm-marker',{attrs:{\"position\":_vm.markerPoint,\"rotation\":_vm.rotation,\"title\":_vm.showingCar,\"dragging\":false,\"icon\":{url: '../../../static/img/bus_purple_s.png', size: {width: 43, height: 20}, anchor:{width: 21.5, height: 10} }}})],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"toggleA\"},on:{\"click\":_vm.toggleA}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"toggleB\"},on:{\"click\":_vm.toggleB}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"historyTable\"}},[_c('el-table',{ref:\"canvasTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.trail,\"height\":\"250\",\"border\":\"\",\"highlight-current-row\":\"\"},on:{\"current-change\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"terminalId\",\"label\":\"轨迹编号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"carno\",\"label\":\"车牌号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"speed\",\"label\":\"速度\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lon\",\"label\":\"经度\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lat\",\"label\":\"纬度\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"uptime\",\"label\":\"采集时间\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.uptime))+\"\\n          \")]}}])})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"controlBar\"}},[_c('p',[_vm._v(\"历史轨迹\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"selectTime\"}},[_vm._m(0),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"default-value\":\"\",\"placeholder\":\"选择开始时间\",\"size\":\"small\"},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"placeholder\":\"选择结束时间\",\"size\":\"small\"},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"selectCompany\"}},[_vm._m(1),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择公司\",\"filterable\":\"\",\"size\":\"small\"},on:{\"change\":_vm.changeCompany},model:{value:(_vm.selectedCompany),callback:function ($$v) {_vm.selectedCompany=$$v},expression:\"selectedCompany\"}},_vm._l((_vm.companies),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"selectCar\"}},[_vm._m(2),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择车辆\",\"filterable\":\"\",\"size\":\"small\"},model:{value:(_vm.selectedCar),callback:function ($$v) {_vm.selectedCar=$$v},expression:\"selectedCar\"}},_vm._l((_vm.cars),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}})}),1),_vm._v(\" \"),_c('el-button',{attrs:{\"id\":\"hitoricalButton\",\"type\":\"primary\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.historialButoon}},[_vm._v(\"查询历史轨迹\")])],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"selectSpeed\"}},[_vm._m(3),_vm._v(\" \"),_c('el-radio-group',{on:{\"change\":_vm.changeSpeed},model:{value:(_vm.playbackRate),callback:function ($$v) {_vm.playbackRate=$$v},expression:\"playbackRate\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"1x\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"2x\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"3x\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"4x\")])],1)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subTitle\"},[_c('i',{staticClass:\"el-icon-caret-right\",staticStyle:{\"color\":\"white\"}}),_vm._v(\" 时间选择\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subTitle\"},[_c('i',{staticClass:\"el-icon-caret-right\",staticStyle:{\"color\":\"white\"}}),_vm._v(\" 公司选择\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subTitle\"},[_c('i',{staticClass:\"el-icon-caret-right\",staticStyle:{\"color\":\"white\"}}),_vm._v(\" 车辆选择\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subTitle\"},[_c('i',{staticClass:\"el-icon-caret-right\",staticStyle:{\"color\":\"white\"}}),_vm._v(\" 播放速度\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44fc7396\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/vehicleMonitor/HistoricalTrack.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44fc7396\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HistoricalTrack.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44fc7396\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./HistoricalTrack.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./HistoricalTrack.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./HistoricalTrack.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44fc7396\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./HistoricalTrack.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-44fc7396\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vehicleMonitor/HistoricalTrack.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}