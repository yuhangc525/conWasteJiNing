webpackJsonp([31],{gtiQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("3cXf"),o=a.n(n),r=a("ptRb"),s={data:function(){return{id:window.sessionStorage.efId,resourceData:[],resourceid:"",resourcename:"",efCenter:{lng:114.067,lat:22.617},polygonPath:[],efData:[]}},created:function(){},mounted:function(){this.getData()},methods:{getData:function(){var t=this;Object(r.J)(this.id).then(function(e){t.resourceData=JSON.parse(o()(e.data.respBody)),t.resourceid=t.resourceData[0].resourcePlantId,t.resourcename=t.resourceData[0].resourcePlantName,Object(r.B)(2,t.id).then(function(e){t.efData=JSON.parse(o()(e.data.respBody)),t.efCenter={lng:114.067,lat:22.617},t.polygonPath=[];for(var a=[],n=[],r=0;r<t.efData.length;r++)a.push(t.efData[r].lng),n.push(t.efData[r].lat);for(var s=0,i=0,l=0;l<a.length;l++)s+=parseFloat(a[l]),i+=parseFloat(n[l]);t.efCenter={lng:s/a.length,lat:i/a.length};for(var c=[],u=0;u<a.length;u++){var d={lng:a[u],lat:n[u]};c.push(d)}t.polygonPath=c})})},getClickInfo:function(t){},updatePolygonPath:function(t){this.polygonPath=t.target.getPath()},addPolygonPoint:function(){this.polygonPath.push({lng:114.067,lat:22.617})}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("div",{attrs:{id:"title"}},[n("span",{staticClass:"span11"},[t._v("资源场编号："+t._s(t.resourceid))]),t._v(" "),n("span",{staticClass:"span21"},[t._v("工程名称："+t._s(t.resourcename))]),t._v(" "),n("img",{attrs:{src:a("PY/F"),alt:"箭头"}})]),t._v(" "),n("div",{staticClass:"bm-div"},[n("baidu-map",{staticClass:"bm-view",attrs:{"scroll-wheel-zoom":!0,zoom:16,center:t.efCenter},on:{click:t.getClickInfo}},[n("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t._v(" "),n("bm-polygon",{attrs:{path:t.polygonPath,"stroke-color":"red","stroke-opacity":1,"stroke-weight":2,fillColor:"red",fillOpacity:.7,editing:!0},on:{lineupdate:t.updatePolygonPath}})],1)],1)])},staticRenderFns:[]};var l=a("C7Lr")(s,i,!1,function(t){a("tw/E")},"data-v-30e0d036",null);e.default=l.exports},"tw/E":function(t,e){}});
//# sourceMappingURL=31.11cfefbf7759245124cc.js.map