webpackJsonp([29],{"0jjZ":function(t,a){},jk1t:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("mvHQ"),i=e.n(n),o=e("ptRb"),l={data:function(){return{id:window.sessionStorage.efId,intakeData:[],intakeid:"",intakename:"",efCenter:{lng:114.067,lat:22.617},polygonPath:[],efData:[]}},created:function(){},mounted:function(){this.getData()},methods:{getData:function(){var t=this;Object(o.V)(this.id).then(function(a){t.intakeData=JSON.parse(i()(a.data.respBody)),t.intakeid=t.intakeData[0].intakePlantId,t.intakename=t.intakeData[0].intakePlantName,Object(o.O)(0,t.id).then(function(a){t.efData=JSON.parse(i()(a.data.respBody)),t.efCenter={lng:114.067,lat:22.617},t.polygonPath=[];for(var e=[],n=[],o=0;o<t.efData.length;o++)e.push(t.efData[o].lng),n.push(t.efData[o].lat);for(var l=0,s=0,r=0;r<e.length;r++)l+=parseFloat(e[r]),s+=parseFloat(n[r]);t.efCenter={lng:l/e.length,lat:s/e.length};for(var c=[],d=0;d<e.length;d++){var p={lng:e[d],lat:n[d]};c.push(p)}t.polygonPath=c})})},getClickInfo:function(t){},updatePolygonPath:function(t){this.polygonPath=t.target.getPath()},addPolygonPoint:function(){this.polygonPath.push({lng:114.067,lat:22.617})}}},s={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticStyle:{height:"100%"}},[n("div",{attrs:{id:"title"}},[n("span",{staticClass:"span11"},[t._v("消纳场编号："+t._s(t.intakeid))]),t._v(" "),n("span",{staticClass:"span21"},[t._v("工程名称："+t._s(t.intakename))]),t._v(" "),n("img",{attrs:{src:e("PY/F"),alt:"箭头"}})]),t._v(" "),n("div",{staticClass:"bm-div"},[n("baidu-map",{staticClass:"bm-view",attrs:{"scroll-wheel-zoom":!0,zoom:16,center:t.efCenter},on:{click:t.getClickInfo}},[n("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t._v(" "),n("bm-polygon",{attrs:{path:t.polygonPath,"stroke-color":"red","stroke-opacity":1,"stroke-weight":2,fillColor:"red",fillOpacity:.7,editing:!0},on:{lineupdate:t.updatePolygonPath}})],1)],1)])},staticRenderFns:[]};var r=e("VU/8")(l,s,!1,function(t){e("0jjZ")},"data-v-c7a535c6",null);a.default=r.exports}});
//# sourceMappingURL=29.81fd6730a879a19d4536.js.map